<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" ?>
<casaxml xmlns="http://casa.nrao.edu/schema/psetTypes.html"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd
file:///opt/casa/code/xmlcasa/xml/casa.xsd">

<task type="function" name="imregrid" category="analysis">
<shortdescription>regrid an image onto a template image</shortdescription>
<description>
Imregrid will regrid an input image onto a template image
coordinate system.  The input and template images must have
the same coordinate structure.
</description>
<input>
	<param type="string" name="imagename" mustexist="true">
		<description>Name of the source image</description>
		<value></value>
	</param>

	<param type="any" name="template">
        <any type="variant"/>
		<description>A dictionary, refcode, or name of an image that provides the output shape and coordinate system</description>
		<value type="string">get</value>
	</param>

	<param type="string" name="output">
		<description>Name for the regridded image</description>
		<value></value>
	</param>

     <param type="bool" direction="in" name="asvelocity">
        <description>Regrid spectral axis in velocity space rather than frequency space?</description>
        <value>False</value>
     </param>

</input>
<example>

imregrid: regrid an image to a new coordinate system.

Keyword arguments:
imagename   Name of the image that needs to be regridded
            default: none; example: imagename='orion.image'
template    Dictionary, reference code, or imagename defining the new
            shape and coordinate system, or 'get' to return the template
            dictionary for imagename.  Recognized reference codes are:
            'J2000', 'B1950', 'B1950_VLA', 'GALACTIC', 'HADEC', 'AZEL',
            'AZELSW', 'AZELNE', 'ECLIPTIC', 'MECLIPTIC', 'TECLIPTIC',
            and 'SUPERGAL'.
            default: 'get'; example: template='orion_j2000.im'
output      Name for the regridded image
            default: imagename + '.regridded'; example: imagename='orion_shifted.im'
asvelocity  Regrid spectral axis with respect to velocity, not frequency?
            default: False
async       Run task in a separate process (return CASA prompt)
            default: False; example: async=True
                
The new coordinate system is defined by the template parameter,
which can be:
    * a recognized reference code string (see below),
    * a {'csys': csys_record, 'shap': shape} dictionary,
    * 'get', which does not regrid but returns the template dictionary
      for imagename, suitable for modification and reuse, or
    * the name of an image to get the coordinate system and shape
      from.  The input and template images must have the same
      coordinate structure.
      
If one of the axes to be regridded is a spectral axis and asvelocity=T,
the axis will be regridded to match the velocity, not the frequency,
description of the template coordinate system. Thus the output pixel
values will correspond only to the velocity, not the frequency, of the
output axis.

</example> 

</task>
</casaxml>
